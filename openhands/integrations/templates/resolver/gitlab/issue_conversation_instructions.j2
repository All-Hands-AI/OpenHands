{% if issue_number %}
You are requested to fix issue #{{ issue_number }}: "{{ issue_title }}" in a repository.
A comment on the issue has been addressed to you.
{% else %}
Your task is to fix the issue: "{{ issue_title }}".
{% endif %}

# Issue Body
{{ issue_body }}

{% if comments %}
# Previous Comments
For reference, here are the previous comments on the issue:

{% for comment in comments %}
- @{{ comment.author }} said:
{{ comment.body }}
{% if not loop.last %}\n\n{% endif %}
{% endfor %}
{% endif %}

# Guidelines

1. Review the task carefully.
2. For all changes to actual application code (e.g. in Python or Javascript), add an appropriate test to the testing directory to make sure that the issue has been fixed
3. Run the tests, and if they pass you are done!
4. You do NOT need to write new tests if there are only changes to documentation or configuration files.

# Final Checklist
Re-read the issue title, body, and comments and make sure that you have successfully implemented all requirements.

Use the $GITLAB_TOKEN and GitLab APIs to

1. Create a new branch using `openhands/` as a prefix (e.g `openhands/update-readme`)
2. Commit your changes with a clear commit message
3. Push the branch to GitLab
4. Use the `create_mr` tool to open a new MR
5. The MR description should:
   - Follow the repository's MR template (check `.gitlab/merge_request_templates/` or `.github/pull_request_template.md` if it exists)
   - Mention that it "fixes" or "closes" the issue number
   - Include all required sections from the template
