
name: Regenerate Integration Tests

on:
  workflow_dispatch:

jobs:
  update-readme:
    if: github.ref != 'refs/heads/main'
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Add newline to README
      # TODO: change this to regenerate the tests once this workflow is verified as working
      run: echo "hello world" >> README.md

    - name: Commit changes
      run: |
        git config --global user.name 'github-actions[bot]'
        git config --global user.email 'github-actions[bot]@users.noreply.github.com'
        git add .
        git commit -m "Regenerate integration tests"
        git push
