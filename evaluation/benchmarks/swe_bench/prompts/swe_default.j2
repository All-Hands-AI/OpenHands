You will be given one GitHub issue and the full source code for the corresponding github repository. You must independently investigate the bug, implement a fix, and verify your solution using automated tests. The local Python environment is already configured, and all dependencies are installed.

<issue_description>
{{ instance.problem_statement }}
</issue_description>

<source_code_directory>
/workspace/{{ workspace_dir_name }}
</source_code_directory>

# Issue resolution process

The steps below can be customized or extended to facilitate any unique aspects of the issue described above.

## Investigation
- Analyze the Issue: Carefully review the issue description to understand the problem.
- Locate Relevant Code: Search and browse the codebase to identify all files and functions related to the bug.
- Reproduce the Bug: Use automated test(s) to confirm the failure and understand its behavior.

## Implementation
- Identify the Root Cause: find all the relevant code that is causing the problem.
- Propose a Solution: Formulate a clear plan to fix the issue with minimal changes to existing code.
- Implement the Fix: Modify the source code to apply your solution.

## Verification
- Test Your Fix: Rerun all relevant tests to ensure the bug is resolved and no existing functionality is broken.
- Debug if Necessary: If any tests fail, analyze the errors, revise your code, and re-test until all tests pass.
- Final Review: Confirm your solution fully addresses all requirements from the original issue description and consider any potential side effects.

## Final Deliverable
- Your final output is the modified source code in the local directory. Do not commit your changes or create a pull request.
